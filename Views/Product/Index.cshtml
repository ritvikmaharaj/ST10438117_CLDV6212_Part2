@model List<ProductEntity>

@{
    ViewBag.Title = "Upload and Preview Files";
}

<div class="container nt-4">



    <h3 style="
  font-family: 'Georgia', serif;
  font-weight: bold;
  font-size: 2em;
  color: #bfa37c;
  letter-spacing: 1px;
  display: inline-block;
  text-align: center;
  padding-bottom: 5px;
  margin-top: 20px;
">
        Browse our Curated Selections of Designer Elegance
    </h3>


    @if (Model != null && Model.Count > 0)
    {
        <div class="row">
            @foreach (var product in Model)
            {
                <div class="col-md-4 mb-4">
                    <div class="card shadow-sm h-100">
                        <img src="@product.BlobUrl" class="card-img-top" alt="@product.Name" style="height: 250px; object-fit: cover;" />
                        <div class="card-body">
                            <h5 class="card-title">@product.Name</h5>
                            <p class="card-text">@product.Description</p>
                            <p class="card-text">R @product.Price</p>
                        </div>
                    </div>
                </div>
            }
        </div>
    }
    else
    {
        <p class="fst-italic text-muted">No files uploaded yet.</p>
    }
</div>


<button id="toggleButton" class="btn btn-sm btn-outline-dark mb-3">
    Upload a New Product
</button>


<div id="uploadForm" style="display: none;">
    <h2 class="text-primary">Upload a File</h2>
    <form asp-action="Upload" asp-controller="Product" method="post" enctype="multipart/form-data" class="mb-4 p-3 border rounded bg-light shadow-sm">
        <div class="mb-3">
            <label for="uploadFile" class="form-label">Select a file:</label>
            <input type="file" name="uploadedFile" id="uploadedFile" class="form-control" />
        </div>
        <div class="mb-3">
            <label for="name" class="form-label">Name:</label>
            <input type="text" name="name" id="name" class="form-control" />
        </div>
        <div class="mb-3">
            <label for="description" class="form-label">Description:</label>
            <input type="text" name="description" id="description" class="form-control" />
        </div>
        <div class="mb-3">
            <label for="price" class="form-label">Price:</label>
            <input type="number" step="0.01" name="price" id="price" class="form-control" />
        </div>

        <button type="submit" class="btn btn-primary">Upload</button>
    </form>
</div>

<script>
    document.getElementById("toggleButton").addEventListener("click", function () {
      var form = document.getElementById("uploadForm");
      if (form.style.display === "none" || form.style.display === "") {
        form.style.display = "block";
      } else {
        form.style.display = "none";
      }
    });
</script>




